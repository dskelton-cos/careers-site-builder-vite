function CareerJobSearch(a,b){this.register();assert(null!=a,"Must have a valid jobSearchData");this._initAjax(b);this._model=new CareerJobSearchModel(a);this._model.error||(this._init(),this._registerEvents());this.isSorted=!1}
CareerJobSearch.prototype=function(){return set(new Component,{_init:function(){this._actionDAO=new CareerJobSearchDAO(this._ajaxController,this._model);this._filters=new JobSearchFilters(this._model.getFilters(),this._ajaxController);this._model.isFilterOnly()||(this._results=new JobSearchResults(this._model.getResults(),this._model.getFiltersList(),this._ajaxController))},_initAjax:function(a){this._ajaxController=null==a?AjaxService.getMBeanInstance("careerJobSearchController"):a},cleanup:function(){this._model.error||
(this._clearBtn.cleanup(),this._actionDAO.cleanup())},_registerEvents:function(){null!=this._results&&(this._actionDAO.addEventListener("searchCompleted",this._results),this._filters.getJobSearchFilterFields().addEventListener("searchJobs",this._results),this._results.addEventListener("reloadFiltersAfterSearch",this._filters.getJobSearchFilterFields()));this._actionDAO.addEventListener("searchCompleted",this._filters)},renderHtml:function(a){a.push('\x3cdiv id\x3d"'+this.id+'"\x3e');this._model.error?
a.push(MSGS[this._model.errorMsg]):(a.push('\x3cdiv aria-live\x3d"polite" id\x3d"jobSearchErrMessage" class\x3d"hiddenAriaContent"\x3e\x3c/div\x3e'),a.push('\x3cdiv id \x3d"rcmjobSearchFilterErrDiv" class\x3d"displayNone round sysmsg error"\x3e\x3c/div\x3e'),this._model.isFilterOnly()?(a.push('\x3ctable class\x3d"searchFiltersLeftSection globalPortletBody"\x3e\x3ctr\x3e\x3ctd class\x3d"filtersCtr"\x3e'),this._filters.renderHtml(a),a.push("\x3c/td\x3e"),this._model.isExternalOrIntranetCareerSite()||
a.push('\x3ctd valign\x3d"top" id\x3d"inlineHelpLayer" style\x3d"padding-left:10px; padding-top:15px;"\x3e\x3c/td\x3e'),a.push("\x3c/tr\x3e\x3c/table\x3e")):(a.push('\x3ctable class\x3d"searchFiltersLeftSection globalPortletBody"\x3e\x3ctr\x3e\x3ctd\x3e\x3cdiv role\x3d"region" aria-label\x3d"',MSGS.APPL_SEARCH_PANEL_TITLE,'"\x3e'),this._filters.renderHtml(a),a.push('\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"jobSearchResults"\x3e\x3cdiv role\x3d"region" aria-label\x3d"',MSGS.RECRUITING_ACCESSIBLE_JOB_RESULT_REGION_TEXT,
'"\x3e'),this._results.renderHtml(a),a.push("\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")));a.push("\x3c/div\x3e")},handleEvent:function(a){switch(a.type){case "clearFilter":alert("clearFilter")}}})}();function CareerJobSearchDAO(a,b){this._init();this._controller=a;this._model=b}
CareerJobSearchDAO.prototype=function(){return set(new juic.EventTarget,{_init:function(){},search:function(){var a={model:this,callback:function(b){a.model.dispatch("searchCompleted",{data:b})}};this._controller.search(this._model.getUserValues(),this._model.getSearchOptions(),a)}})}();var rcmJobSearchRenderDone=!1;
function createCareerJobSearch(a,b,d){resetRenderDoneFlag();(new CareerJobSearch(a,b)).render(d);"function"==typeof loadAdminInlineHelpView&&loadAdminInlineHelpView();setRenderDoneFlag()}function setRenderDoneFlag(){rcmJobSearchRenderDone=!0}function resetRenderDoneFlag(){rcmJobSearchRenderDone=!1}function isRenderDone(){return rcmJobSearchRenderDone}
CareerJobSearch.dataReady=function(a,b){for(var d=a.payload.filters.configs.filters,e=0;e<d.length;e++){var c=d[e];"picklist"==c.fieldType&&(c.seedPicklistOptions=b[c.picklistFieldId],c.seedPicklistId=c.picklistFieldId)}CareerJobSearch.renderSearch(a)};CareerJobSearch.renderSearch=function(a){createCareerJobSearch(a,careerJobSearchController,"careerJobSearchContainer");"true"==saveSearchRedirect&&juic.$("_saveSearch")&&-1!=window.location.pathname.search(/portalcareer/)&&juic.$("_saveSearch").click()};
CareerJobSearch.configReady=function(a){if(a.payload.filters&&a.payload.filters.configs&&a.payload.filters.configs&&a.payload.filters.configs.filters){for(var b=a.payload.filters.configs.filters,d=[],e=0;e<b.length;e++){var c=b[e];"picklist"==c.fieldType&&(c.childPicklistFieldId||c.parentPicklistFieldId)&&d.push(c.picklistFieldId)}0<d.length?(this.jobSearchCriteriaController=AjaxService.getMBeanInstance("jobSearchCriteriaController"),this.jobSearchCriteriaController.isPicklistSortingKeyEnabled({model:this,
callback:function(b){this.isSorted=b;picklistController.getEventallyConsistentPickListsWithSortingBy(d,this.isSorted,{model:this,callback:function(b){CareerJobSearch.dataReady(a,b)}})}})):CareerJobSearch.renderSearch(a)}else CareerJobSearch.renderSearch(a)};