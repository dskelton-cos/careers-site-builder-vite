function JobSearchFilters(a,b){this.register();assert(null!=a,"Must have a valid filterData");this._model=new JobSearchFiltersModel(a);this._jobSearchFilterFields=new JobSearchFilterFields(this._model);this._initAjax(b);this._init();this._registerEvents()}
JobSearchFilters.prototype=function(){return set(new Component,{_init:function(){this._actionDAO=new JobSearchFiltersDAO(this._ajaxController);this._clearBtn=new SFButton("Clear",{onClick:"clearFilter"})},_initAjax:function(a){this._ajaxController=null==a?AjaxService.getMBeanInstance("careerJobSearchController"):a},cleanup:function(){this._clearBtn.cleanup();this._actionDAO.cleanup()},getJobSearchFilterFields:function(){return this._jobSearchFilterFields},_registerEvents:function(){this._clearBtn.addEventListener("clearFilter",
this);this._actionDAO.addEventListener("countLoaded",this);this._jobSearchFilterFields.addEventListener("loadSearchResults",this);this._actionDAO.addEventListener("userValuesUpdated",this);this._jobSearchFilterFields.addEventListener("kwPicklistChanged",this);this._jobSearchFilterFields.addEventListener("languageChanged",this)},renderHtml:function(a){a.push('\x3cdiv id\x3d"'+this.id+'"\x3e');this._jobSearchFilterFields.renderHtml(a);a.push("\x3c/div\x3e")},_renderFilters:function(a){},_reRenderFilters:function(){},
reRender:function(){juic.$(this.id+"_w").innerHTML=""},handleEvent:function(a){switch(a.type){case "clearFilter":this._model.clearFilters();this._reRenderFilters();this._actionDAO.clearFilters();break;case "loadSearchResults":this._actionDAO.updateUserSelectedValues(this._model.getUserValues());break;case "userValuesUpdated":a=this._model.getSearchURL()+"_s.crb\x3d"+ajaxSecKey;window.location=a;break;case "languageChanged":this._actionDAO.updateUserSelectedValuesForLanguageChange(this._model.getUserValues())}}})}();
function JobSearchFiltersDAO(a){this._ajaxController=a;this._init()}
JobSearchFiltersDAO.prototype=function(){return set(new juic.EventTarget,{_init:function(){},clearFilters:function(){var a={model:this,callback:function(b){a.model.dispatch("countLoaded",{data:b})}};this._ajaxController.clearFilters(a)},updateCount:function(a){var b={model:this,callback:function(a){b.model.dispatch("clearFiltersComplete",{data:a})}};this._controller.getPostingCount(b)},updateUserSelectedValues:function(a){var b={model:this,callback:function(){b.model.dispatch("userValuesUpdated")}};
this._ajaxController.updateUserSelectedValues(a,null,b)},updateUserSelectedValuesForLanguageChange:function(a){this._ajaxController.updateUserSelectedValues(a,null)}})}();